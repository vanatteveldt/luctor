{% extends "base.html" %}
{% load admin_urls %}
{% load widget_tweaks %}
{% block content %}

<h1>Nieuwe les uploaden: Check</h1>

<form action="#" method="post" class="form-horizontal">
    {% csrf_token %}

{% if form.non_field_errors %}
<div class="alert alert-danger" role="alert">{{ form.non_field_errors }}</div>
{% endif %}

<div class="form-group">
  <label for="{{ form.title.id_for_label }}" class="col-sm-2 control-label">Titel</label>
  <div class="col-sm-10">
    {{ form.title | add_class:"form-control"}}
  </div>
</div>

<div class="form-group">
  <label for="{{ form.date.id_for_label }}" class="col-sm-2 control-label">Date</label>
  <div class="col-sm-10">
    {{ form.date | add_class:"form-control"}}
  </div>
</div>
<div class="form-group">
  <label for="{{ form.title.id_for_label }}" class="col-sm-2 control-label">Tekst</label>
  <div class="col-sm-10">
    {{ form.parsed | add_class:"form-control"}}
  </div>
</div>

<div class="form-group">
  <div class="col-sm-offset-2 col-sm-2">
    <button type="submit" value="ok" name="actie" class="btn btn-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Goedkeuren</button>
  </div>
  <div class="col-sm-2">
    <button type="submit" value="refresh" name="actie" class="btn btn-info"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> Preview verversen</button>
</div>
  <div class="col-sm-2">
    <button type="submit" value="remove" name="actie" class="btn btn-danger"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Verwijderen</button>
  </div>
</div>
</form>

<hr />

<h1> Preview </h1>

{% for recipe in recipes %}
<h2>{{recipe.title}}</h2>

<p><small>Ingredienten:</small><br/>
<table border=1>
{% for row in recipe.ingredient_rows %}
<tr>
  {% for ing in row %}
  <td>{{ing}} </td>
  {% endfor %}
</tr>
{% endfor %}
</table>

<p><small>Instructies:</small></br/>
{{ recipe.instructions }}

{% endfor %}

{% endblock %}
