<nav aria-label="Page navigation">
    <ul class="pagination pagination-sm justify-content-center">

    <li class="page-item"><a class="page-link" href="?page=1">&laquo;</a></li>
    <li class="page-item {% if not page_obj.has_previous %}disabled{% endif %}"><a class="page-link" {% if page_obj.has_previous %}href="?page={{ page_obj.previous_page_number }} {% endif %}">&lsaquo;</a></li>

    {% if page_obj.number > 2 and page_obj.number == page_obj.paginator.num_pages %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.number|add:-2 }}">{{ page_obj.number|add:-2 }}</a></li>
    {%  endif %}
    {% if page_obj.number > 1  %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.number|add:-1 }}">{{ page_obj.number|add:-1 }}</a></li>
    {%  endif %}
    <li class="page-item active"><a class="page-link" href="?page={{ page_obj.number }}">{{ page_obj.number }}</a></li>
    {% if page_obj.number <  page_obj.paginator.num_pages %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.number|add:1 }}">{{ page_obj.number|add:1 }}</a></li>
    {%  endif %}
    {% if page_obj.number == 1 and page_obj.paginator.num_pages > 2 %}
        <li class="page-item"><a class="page-link" href="?page=3">3</a></li>
    {%  endif %}

    <li class="page-item {% if not page_obj.has_next %}disabled{% endif %}"><a class="page-link" {% if page_obj.has_next %}href="?page={{ page_obj.next_page_number }} {% endif %}">&rsaquo;</a></li>
    <li class="page-item"><a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">&raquo;</a></li>

    </ul>
</nav>